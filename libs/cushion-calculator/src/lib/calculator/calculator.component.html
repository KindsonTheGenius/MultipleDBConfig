<div
  *ngIf="!zipNotCovered"
  class="container"
  [ngClass]="{ marginBottom: source === 'contactForm' }"
>
  <p style="font-size: 18px;" class="text-center mt-3">
    Tragen Sie hier die Anzahl der zu reinigenden Polstermöbel ein:
  </p>

  <div
    class="container-fluid card my-3 d-flex justify-content-center amountDisplay"
    *ngFor="let cushion of cushions"
  >
    <div class="row py-3 containerRow mx-auto">
      <div class="col-5 col-md-6">
        <div class="row">
          <div class="col-12 col-md-6 order-2 order-md-1 text-center">
            <img
              src="{{ cushion.image }}"
              alt="{{ cushion.alt }}"
              class="img-fluid p-3 icon"
            />
          </div>
          <div
            class="col-12 order-1 col-md-6 order-md-2 px-0 d-flex justify-content-center align-items-center text-center"
          >
            <p class="mb-0 h5">
              <b>{{ cushion.name }}</b>
            </p>
          </div>
        </div>
      </div>
      <div class="col d-flex align-items-center container-fluid">
        <div class="row flex-fill">
          <div
            class="col-12 col-lg-6 text-center d-flex justify-content-center align-items-center"
          >
            <div class="row">
              <div class="col-12">
                <p class="m-0" style="font-size: 0.9em; color: #343434;">
                  <s>{{ cushion.offlinePrice | currency: 'EUR' }}</s>
                </p>
              </div>
              <div class="col-12">
                <p class="m-0 font-weight-bold h5" style="color: #b12704;">
                  {{ cushion.price | currency: 'EUR' }}
                </p>
              </div>
              <div class="col-12 mb-2">
                <p class="m-0 font-weight-bold h6" style="color: #b12704;">
                  (inkl. 10% Rabatt)
                </p>
              </div>
            </div>
          </div>
          <div
            class="col-12 col-lg-6 counter d-flex flex-row justify-content-center align-items-center"
          >
            <img
              src="../assets/minusIcon.svg"
              alt="Reduce amount"
              class="img-fluid mr-3 iconAmount"
              (click)="minusAmount(cushion.id)"
            />
            <div class="amountDisplay text-center">
              <span class="align-middle">
                <p class="m-0 py-1 mx-3">{{ cushion.amount }}</p>
              </span>
            </div>
            <img
              src="../assets/plusIcon.svg"
              alt="Increase amount"
              class="img-fluid ml-3 iconAmount"
              (click)="plusAmount(cushion.id)"
            />
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col" style="font-size: 18px;">
      <div class="w-70 d-flex justify-content-between mx-2">
        <span class="d-flex align-items-center" style="font-size: 14px;"
          >Sonderanfrage&nbsp;
          <img
            src="/assets/infoIcon.svg"
            width="17"
            heigth="17"
            #t="ngbTooltip"
            (click)="t.open()"
            placement="top"
            ngbTooltip="Sonderanfrage? Bitte hier klicken. Später mehr dazu."
          />
        </span>
        <span class="pr-0 mr-0">
          <div class="custom-control custom-switch p-0 my-2">
            <mat-slide-toggle
              color="primary"
              (change)="requestSpecialOrder()"
            ></mat-slide-toggle>
          </div>
        </span>
      </div>
      <div class="w-70 d-flex justify-content-between mx-2">
        <span *ngIf="this.specialOrderOption" class="h6">
          <b style="color: darkred;"
            >Bitte im letzten Schritt des Kontaktformulars in den Kommentaren
            beschreiben.</b
          >
        </span>
      </div>
      <div class="w-70 h-20 d-flex justify-content-between mx-2 my-1">
        <span class="d-flex align-items-center" style="font-size: 14px;"
          >Anfahrtspauschale&nbsp;
          <img
            src="/assets/infoIcon.svg"
            width="17"
            heigth="17"
            #t="ngbTooltip"
            (click)="t.open()"
            placement="top"
            ngbTooltip="Bei einem Bestelltwert von über {{
              this.minPrice | currency: 'EUR'
            }} schenken wir Ihnen die
          Anfahrtspauschale."
          />
        </span>
        <span *ngIf="!this.specialOrderOption" class="pr-1">{{
          this.transportCost | currency: 'EUR'
        }}</span>
      </div>
    </div>
    <div class="col-12 px-1 px-md-0 mb-3">
      <div class="pricing d-flex">
        <span class="desc mr-1 d-flex align-items-center"
          >Gesamtpreis&nbsp;
          <small *ngIf="!this.specialOrderOption">(inkl. MwSt.)</small></span
        >
        <span *ngIf="!this.specialOrderOption" class="price">{{
          this.totalPrice | currency: 'EUR'
        }}</span>
        <span
          *ngIf="this.specialOrderOption"
          class="price text-center d-flex align-items-center"
        >
          <span class="align-middle specialRequest">
            Sonderanfrage
          </span>
        </span>
      </div>
    </div>
  </div>
</div>
<div *ngIf="zipNotCovered" class="border border-danger">
  <h5>Momentan wird Ihre Postleitzahl leider nicht abgedeckt!</h5>
</div>
